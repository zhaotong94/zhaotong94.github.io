<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.131.0">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/css/mdb.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-beta1/js/bootstrap.bundle.min.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    
    

    <script src="/js/theme.js"></script>
    <script src="/js/common.js"></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Tong&#39;Log</title>

<meta name="description" content="">
<meta name="author" content="Tong">
<link rel="canonical" href="https://zhaotong94.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://zhaotong94.github.io/img/capybara.jpg">
<link rel="icon" type="image/png" sizes="16x16" href="https://zhaotong94.github.io/img/capybara.jpg">
<link rel="icon" type="image/png" sizes="32x32" href="https://zhaotong94.github.io/img/capybara.jpg">
<link rel="apple-touch-icon" href="https://zhaotong94.github.io/img/capybara.jpg">
<link rel="mask-icon" href="https://zhaotong94.github.io/img/capybara.jpg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://zhaotong94.github.io/index.xml">
<link rel="alternate" type="application/json" href="https://zhaotong94.github.io/index.json">
<link rel="alternate" hreflang="en" href="https://zhaotong94.github.io/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>




<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script type="text/javascript">
    MathJax = {
      tex: {
        tags:"ams",
        inlineMath: [['$', '$']],
        displayMath: [['$$','$$']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  
    
    
    
    
  
  </script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  

<meta property="og:title" content="Tong&#39;Log" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://zhaotong94.github.io/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tong&#39;Log"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Tong'Log",
  "url": "https://zhaotong94.github.io/",
  "description": "",
  "thumbnailUrl": "https://zhaotong94.github.io/img/capybara.jpg",
  "sameAs": [
      "https://github.com/zhaotong94", "img/wechat.jpg", "tongzhao.zhaot@gmail.com", "index.xml"
  ]
}
</script>
    
    
    
</head>

<body class="list" id="top">
<script>
    (function () {
        let  arr,reg = new RegExp("(^| )"+"change-themes"+"=([^;]*)(;|$)");
        if(arr = document.cookie.match(reg)) {
        } else {
            if (new Date().getHours() >= 19 || new Date().getHours() < 6) {
                document.body.classList.add('dark');
                localStorage.setItem("pref-theme", 'dark');
            } else {
                document.body.classList.remove('dark');
                localStorage.setItem("pref-theme", 'light');
            }
        }
    })()

    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://zhaotong94.github.io/" accesskey="h" title="Tong&#39;Log (Alt + H)">
            <img src="https://zhaotong94.github.io/img/capybara.jpg" alt="logo" aria-label="logo"
                 height="35">Tong&#39;Log</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://zhaotong94.github.io/" title="üè†Home">
                <span class="active">üè†Home</span>
                </a>
            </li>
            <li>
                <a href="https://zhaotong94.github.io/blog" title="‚úçBlog">
                <span>‚úçBlog</span>
                </a>
            </li>
            <li>
                <a href="https://zhaotong94.github.io/publications" title="üìÑPublications">
                <span>üìÑPublications</span>
                </a>
            </li>
            <li>
                <a href="https://zhaotong94.github.io/tags" title="üè∑Ô∏èTags">
                <span>üè∑Ô∏èTags</span>
                </a>
            </li>
            <li>
                <a href="https://zhaotong94.github.io/cv" title="üë®‚Äçü¶±CV">
                <span>üë®‚Äçü¶±CV</span>
                </a>
            </li>
            <li>
                <a href="https://zhaotong94.github.io/faq" title="ü§îFAQ">
                <span>ü§îFAQ</span>
                </a>
            </li>
            <li>
                <a href="https://zhaotong94.github.io/search" title="üîçSearch (Alt &#43; /)" accesskey=/>
                <span>üîçSearch</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"><div class="profile">
    <div class="profile_inner">
        <img draggable="false" src="https://zhaotong94.github.io/profile.jpg" alt="profile image" title=""
        height="220" width="165" />
        <h1 style="text-align: left;">Tong Zhao (ËµµÊõà)</h1>
        <p style="text-align: left;">Assistant Professor <br> Leading a stochastic optimization and reinforcement learning team at institue of computing technology,  Chinese Academy of Sciences.</p>
        
<div class="social-icons">

  <a href="mailto:tongzhao.zhaot@gmail.com" title="Email"><i class="fa-solid fa-envelope"></i></a>












  <a href="https://github.com/zhaotong94" title="GitHub"><i class="fa-brands fa-github"></i></a>












  <a id="WeChatBtn" href="img/wechat.jpg" target="_blank" alt="WeChat QR" title="WeChat"><i class="fa-brands fa-weixin"></i></a>
  

</div>

        <br/>
    <div class="news"> <h2>üì∞News</h2> 
        <div class="table-responsive"> 
            <table class="table table-sm table-borderless"> 
                
                
                
                <tr> 
                    <th scope="row">Oct&nbsp;30,<br/>2024</th> 
                    <td style="font-size: large; font-weight: 500;"><p>I would like to <strong><span style="color:#FF6C0C;">apply for a postdoctoral position</span></strong> in the <strong><span style="color:#FF6C0C;">AI-related field</span></strong>. I have a <strong>multidisciplinary background in mathematics, AI, high-performance computing</strong> and following advantages:</p>
<ol>
<li><strong>Curiosity, Adaptability, and Self-Motivation</strong>.
I am capable of working independently and eager to learn new knowledge, even willing to adopt a doctoral student mindset. I aim to contribute to highly original research. Additionally, I am open to discussing ideas with group members and assisting in guiding PhD students.</li>
<li><strong>Computational Resources</strong>.
Due to my professional experience in the High Performance Computer Research Center, I have established good collaborative relationships with some leading supercomputing companies, internet companies, as well as distributed training centers in universities and research institutes. If necessary, I can provide the required computational resources for our group.</li>
<li><strong>Relevant Theoretical Foundation</strong>.
I obtained my Ph.D. in the School of Mathematical Sciences, with strong algorithm analysis skills and the ability to learn new theories. My background covers deep learning optimizers, reinforcement learning, stochastic analysis, control and game theory, and PDEs.</li>
</ol>
<p><strong>In addition, <span style="color:#FF6C0C;">almost all my personal information</span> (referees, publications, and etc.) related to an postdoctoral application can be found <span style="color:#FF6C0C;">on this website</span>. If you have any interest and question, please feel free to <a style="color:#FF6C0C;">contact me</a> or refer to the FAQ section</strong>.</p>
</td>
                </tr> 
             </table> 
        </div> 
    </div> 
    <br/>
    <h2>üéìResearch</h2> 
    <h4>Primary: Optimization in Deep Learning</h4>
    <li>I have studied how momentum aÔ¨Äects generalization and its relationship with the sharpness of the landscape.</li>
    <li>I explored why the training performance of deep neural networks deteriorates with larger batch sizes, and how momentum can be introduced to improve the performance. I designed adaptive momentum methods to enhance training with large batch sizes.</li>
    <li>Many optimizers perform well on small models (parameters&lt;100M), but their performance lags behind SGD on large models (parameters>100M), especially considering the memory and communication constraints. How can we design efficient and practical optimizers for large-scale models?</li>
    <li>Kalman filtering is a classical algorithm in control domain, I adapt it to a novel optimizer. This optimizer has shown promising results in molecular potential surface fitting. Moreover, this algorithm has been incorporated into the DeePMD library for molecular dynamics simulations.</li>
    <li>I have also dabbled in training neural networks for PDEs (Partial Differential Equations).During my PhD in the Mathematics Department at Fudan University, I researched stochastic control and operations, focusing on stochastic partial differential equations and how to solve forward-backward stochastic differential equations and corresponding PDEs by deep learning.</li>
            
    <h4>Secondary: Reinforcement Learning</h4> <li>I designed a co-running scheduler for AI training tasks using reinforcement learning algorithms, fully utilizing the large scheduling window to achieve better performance than traditional (dynamic) schedulers.</li>
    <li>I developed a distributed I/O scheduler, especially for training tasks, with reinforcement learning algorithms. It is an interference-aware scheduler of multiple reads and writes, using a neural network to predict the real bandwidth under interference.</li>   
    <br/>
    <h2>üìëSelected Publications <a  style="color:#FF6C0C" href="/publications">[full list]</a></h2>
    <span>(*) denotes equal contribution, (‚Ä†) denotes corresponding author</span>

    
    
       

    
    
        
    
        
            
        
    
        
    
        
    
        
            
        
    
        
            
        
    

    <div class="publications">




    
        <h2 class="bibliography">2024</h2>
        
    
<ol class="bibliography"><li>
    
<div class="row"> 
     
    
        <div class="col col-sm-2 abbr" style="text-align: center">
            <abbr class="badge rounded w-100" style="background-color:#FF6C0C">PPoPP</abbr>
            
        
        </div>
    

    
    
    <div id="hu2024training" class="col-sm-8">
        
        <div class="title">Training one deepmd model in minutes: A step towards online learning</div>
        
        <div class="author">
            
            
            

            

            
            
            
            
            

            
            

            
            
            

            
                
                
                    Siyu&nbspHu,
                
                
            
            
            
            
            
            

            
            
                
                
                
            

            
            
            

            
                
                <em>Tong&nbspZhao</em>,
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Qiuchen&nbspSha,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Enji&nbspLi,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Xiangyu&nbspMeng,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Lijun&nbspLiu,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Lin-Wang&nbspWang,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Guangming&nbspTan,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    and Weile&nbspJia
                
                
            
            

            
            
            

            
        </div>

        
        
        
         

        
            
        

        
        

        
        
            
        

        
        

        

         
        
        
          
            
        
        <div class="periodical">
            <em>In Proceedings of the 29th ACM SIGPLAN Annual Symposium on Principles and Practice of Parallel Programming</em>,  2024
        </div>
        <div class="periodical">
            
        </div>
        

        
        <div class="links">
            
            
            <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a>
            
            
            
            
            <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a>
            
            
            
            
                <a href="https://dl.acm.org/doi/pdf/10.1145/3627535.3638505" class="btn btn-sm z-depth-0" role="button">PDF</a>
            
            
            
            
            
            
            
            
            
        </div>

        

        
            
            <div class="abstract hidden">
            <p>Neural Network Molecular Dynamics (NNMD) has become a major approach in material simulations, which can speedup the molecular dynamics (MD) simulation for thousands of times, while maintaining ab initio accuracy, thus has a potential to fundamentally change the paradigm of material simulations. However, there are two time-consuming bottlenecks of the NNMD developments. One is the data access of ab initio calculation results. The other, which is the focus of the current work, is reducing the training time of NNMD model. The training of NNMD model is different from most other neural network training because the atomic force (which is related to the gradient of the network) is an important physical property to be fit. Tests show the traditional stochastic gradient methods, like the Adam algorithms, cannot efficiently deploy the multisample minibatch algorithm. As a result, a typical training (taking the Deep Potential Molecular Dynamics (DeePMD) as an example) can take many hours. In this work, we designed a heuristic minibatch quasi-Newtonian optimizer based on Extended Kalman Filter method. An early reduction of gradient and error is adopted to reduce memory footprint and communication. The memory footprint, communication and settings of hyper-parameters of this new method are analyzed in detail. Computational innovations such as customized kernels of the symmetry-preserving descriptor are applied to exploit the computing power of the heterogeneous architecture. Experiments are performed on 8 different datasets representing different real case situations, and numerical results show that our new method has an average speedup of 32.2 compared to the Reorganized Layer-wised Extended Kalman Filter with 1 GPU, reducing the absolute training time of one DeePMD model from hours to several minutes, making it one step toward online training.</p>
            </div>
        

        
            
            <div class="bibtex hidden">
            <div class="post-content highlight"><pre><code class="bibtex">@article&#123hu2024training,
            title   = "Training one deepmd model in minutes: A step towards online learning",
            author  = "Siyu Hu and Tong Zhao and Qiuchen Sha and Enji Li and Xiangyu Meng and Lijun Liu and Lin-Wang Wang and Guangming Tan and Weile Jia",
            year    = "2024",<br/>&#125
            </code></pre></div>
            </div>
        

            
    </div>  
</div> 
</li></ol> 

    
        <h2 class="bibliography">2023</h2>
        
    
<ol class="bibliography"><li>
    
<div class="row"> 
     
    
        <div class="col col-sm-2 abbr" style="text-align: center">
            <abbr class="badge rounded w-100" style="background-color:#FF6C0C">AAAI</abbr>
            
        
            <abbr class="board rounded w-100">Oral</abbr>
            
        
        </div>
    

    
    
    <div id="hu2023rlekf" class="col-sm-8">
        
        <div class="title">RLEKF: An optimizer for deep potential with ab initio accuracy</div>
        
        <div class="author">
            
            
            

            

            
            
            
            
            

            
            

            
            
            

            
                
                
                    Siyu&nbspHu<sup>*</sup>,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Wentao&nbspZhang<sup>*</sup>,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Qiuchen&nbspSha,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Feng&nbspPan,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Lin-Wang&nbspWang,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Weile&nbspJia,
                
                
            
            
            
            
            
            

            
            

            
            
            

            
                
                
                    Guangming&nbspTan,
                
                
            
            
            
            
            
            

            
            
                
                
                
            

            
            
            

            
                
                and <em>Tong&nbspZhao<sup>‚Ä†</sup></em>
                
            
            

            
            
            

            
        </div>

        
        
        
         

        
            
        

        
        

        
        
            
        

        
        

        

         
        
        
          
            
        
        <div class="periodical">
            <em>In Proceedings of the AAAI Conference on Artificial Intelligence</em>,  2023
        </div>
        <div class="periodical">
            
        </div>
        

        
        <div class="links">
            
            
            <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a>
            
            
            <a href="https://doi.org/https://doi.org/10.1609/aaai.v37i7.25957" class="btn btn-sm z-depth-0" role="button">DOI</a>
            
            
            
            <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a>
            
            
            
            
                <a href="https://arxiv.org/pdf/2212.06989" class="btn btn-sm z-depth-0" role="button">PDF</a>
            
            
            
            
            
            
            
            
            
        </div>

        

        
            
            <div class="abstract hidden">
            <p>It is imperative to accelerate the training of neural network force field such as Deep Potential, which usually requires thousands of images based on first-principles calculation and a couple of days to generate an accurate potential energy surface. To this end, we propose a novel optimizer named reorganized layer extended Kalman filtering (RLEKF), an optimized version of global extended Kalman filtering (GEKF) with a strategy of splitting big and gathering small layers to overcome the $O(N^2)$ computational cost of GEKF. This strategy provides an approximation of the dense weights error covariance matrix with a sparse diagonal block matrix for GEKF. We implement both RLEKF and the baseline Adam in our Œ±Dynamics package and numerical experiments are performed on 13 unbiased datasets. Overall, RLEKF converges faster with slightly better accuracy. For example, a test on a typical system, bulk copper, shows that RLEKF converges faster by both the number of training epochs (√ó11.67) and wall-clock time (√ó1.19). Besides, we theoretically prove that the updates of weights converge and thus are against the gradient exploding problem. Experimental results verify that RLEKF is not sensitive to the initialization of weights. The RLEKF sheds light on other AI-for-science applications where training a large neural network (with tons of thousands parameters) is a bottleneck.</p>
            </div>
        

        
            
            <div class="bibtex hidden">
            <div class="post-content highlight"><pre><code class="bibtex">@article&#123hu2023rlekf,
            title   = "RLEKF: An optimizer for deep potential with ab initio accuracy",
            author  = "Siyu Hu and Wentao Zhang and Qiuchen Sha and Feng Pan and Lin-Wang Wang and Weile Jia and Guangming Tan and Tong Zhao",
            year    = "2023",<br/>&#125
            </code></pre></div>
            </div>
        

            
    </div>  
</div> 
</li></ol> 

    
        <h2 class="bibliography">2022</h2>
        
    
<ol class="bibliography"><li>
    
<div class="row"> 
     
    
        <div class="col col-sm-2 abbr" style="text-align: center">
            <abbr class="badge rounded w-100" style="background-color:#FF6C0C">CAM</abbr>
            
        
        </div>
    

    
    
    <div id="zhao2022limits" class="col-sm-8">
        
        <div class="title">Limits of one-dimensional interacting particle systems with two-scale interaction</div>
        
        <div class="author">
            
            
            

            

            
            
            
            
            

            
            
                
                
                
            

            
            
            

            
                <em>Tong&nbspZhao</em>
            
            

            
            
            

            
        </div>

        
        
        
         

        
            
        

        
        

        
        
            
        

        
        

        

         
        
        
          
            
        
        <div class="periodical">
            <em>Chinese Annals of Mathematics, Series B</em>,  2022
        </div>
        <div class="periodical">
            
        </div>
        

        
        <div class="links">
            
            
            <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a>
            
            
            <a href="https://doi.org/https://doi.org/10.1007/s11401-022-0311-z" class="btn btn-sm z-depth-0" role="button">DOI</a>
            
            
            
            <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a>
            
            
            
            
            
            
            
            
            
            
        </div>

        

        
            
            <div class="abstract hidden">
            <p>This paper characterizes the limits of a large system of interacting particles distributed on the real line. The interaction occurring among neighbors involves two kinds of independent actions with different rates. This system is a generalization of the voter process, of which each particle is of type A or a. Under suitable scaling, the local proportion functions of A particles converge to continuous functions which solve a class of stochastic partial differential equations driven by Fisher-Wright white noise. To obtain the convergence, the tightness of these functions is derived from the moment estimate method.</p>
            </div>
        

        
            
            <div class="bibtex hidden">
            <div class="post-content highlight"><pre><code class="bibtex">@article&#123zhao2022limits,
            title   = "Limits of one-dimensional interacting particle systems with two-scale interaction",
            author  = "Tong Zhao",
            year    = "2022",<br/>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&nbsp;journal = "Chinese Annals of Mathematics, Series B",<br/>&#125
            </code></pre></div>
            </div>
        

            
    </div>  
</div> 
</li></ol> 


</div>
    </div>
</div>

</main>

<footer class="footer">
    <span>
        Copyright
        &copy;
        2023-2024
        <a href="https://zhaotong94.github.io/" style="color:#939393;">Tong&#39;Log</a>
        <span>
            Powered by
            <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
            <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
        </span>
    </span>
    
    <span id="busuanzi_container">
        <span class="fa fa-user"></span> <span id="busuanzi_value_site_uv"></span>
        <span class="fa fa-eye"></span> <span id="busuanzi_value_site_pv"></span>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        (function() {
            document.cookie = "change-themes" + "="+ escape ("false");
        })()

        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    });
</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\n‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\r\n' +
                    
                
                    "Copyright Notice: This article is an original piece by '+Tong\u0027Log+', licensed under the CC 4.0 BY-SA copyright agreement. Please include the original source link and this statement when reprinting." + "\r\n Original link: " + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\n‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\r\n' +
                    
                
                    "Copyright Notice: This article is an original piece by '+Tong\u0027Log+', licensed under the CC 4.0 BY-SA copyright agreement. Please include the original source link and this statement when reprinting." + "\r\n Original link: " + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>




</body>

</html>
